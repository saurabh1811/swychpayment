import{T as R,_ as j,s as A,a as s,b,c as E,d as L,e as O,f as v,g as F,h as D,i as H,j as W}from"./index-BYFCpf-x.js";import{H as i,a6 as K,o as h,c as k,w as l,s as Q,a,z as t,b as m,d as c,t as u,aj as d,ak as p}from"./index-CzOznYKU.js";import"./fetch-wrapper-BzEQRETp.js";const X={key:0,class:"p-4"},z={class:"flex justify-between"},J={class:"flex items-center gap-2"},q={class:"flex items-center gap-2"},G={class:"flex items-center gap-2"},ae={__name:"PayoutTransaction",setup(Y){const N=i(new Array(10)),x=i([{name:"Processed",value:1},{name:"Rejected",value:2},{name:"Pending",value:0}]),M=i([{name:"Credit",type:"credit"},{name:"Debit",type:"debit"}]),f=i(!0),g=i(),_=i(),y=i(),V=i(null),S=i(null),w=i(null);i([{name:"Amy Elsner",image:"amyelsner.png"},{name:"Anna Fali",image:"annafali.png"},{name:"Asiya Javayant",image:"asiyajavayant.png"},{name:"Bernardo Dominic",image:"bernardodominic.png"},{name:"Elwin Sharvill",image:"elwinsharvill.png"},{name:"Ioni Bowcher",image:"ionibowcher.png"},{name:"Ivan Magalhaes",image:"ivanmagalhaes.png"},{name:"Onyama Limba",image:"onyamalimba.png"},{name:"Stephen Shaw",image:"stephenshaw.png"},{name:"XuXue Feng",image:"xuxuefeng.png"}]),K(async()=>{try{const o=await R.getWalletTransactions();console.log(o.data),g.value=C(o.data.data)}catch(o){console.error("Error fetching transactions:",o)}finally{f.value=!1}});const T=()=>{y.value={global:{value:null,matchMode:d.CONTAINS},"attributes.transaction_id":{operator:p.AND,constraints:[{value:null,matchMode:d.STARTS_WITH}]},"attributes.created_at":{operator:p.AND,constraints:[{value:null,matchMode:d.DATE_IS}]},"attributes.amount":{operator:p.AND,constraints:[{value:null,matchMode:d.EQUALS}]},"attributes.net_bal":{operator:p.AND,constraints:[{value:null,matchMode:d.EQUALS}]},"attributes.remarks":{operator:p.AND,constraints:[{value:null,matchMode:d.STARTS_WITH}]},"attributes.purpose":{operator:p.AND,constraints:[{value:null,matchMode:d.STARTS_WITH}]},"attributes.transaction_type":{value:null,matchMode:d.IN},"attributes.status":{value:null,matchMode:d.IN}}};T();const $=o=>o.toLocaleDateString("en-US",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}),U=o=>o.toLocaleString("en-US",{style:"currency",currency:"USD"}),I=()=>{T(),V.value&&(S.value=null,w.value=null)},C=o=>[...o||[]].map(n=>(n.attributes.created_at=new Date(n.attributes.created_at),n)),P=o=>{switch(o){case 0:return"info";case 1:return"success";case 2:return"danger";case 3:return"danger";default:return"info"}},B=o=>{switch(o){case 0:return"Pending";case 1:return"Processed";case 2:return"Rejected";case 3:return"Rejected";default:return"Pending"}};return(o,n)=>(h(),k(j,{title:"Payout Transactions","class-name":"px-0 rounded-md overflow-hidden"},{default:l(()=>[f.value?(h(),Q("div",X,[a(t(A),{value:N.value},{default:l(()=>[a(t(s),{field:"transaction_id",header:"Transaction Id"},{body:l(()=>[a(t(b))]),_:1}),a(t(s),{field:"amount",header:"Amount"},{body:l(()=>[a(t(b))]),_:1}),a(t(s),{field:"net_bal",header:"Net Bal"},{body:l(()=>[a(t(b))]),_:1}),a(t(s),{field:"remarks",header:"Remark"},{body:l(()=>[a(t(b))]),_:1}),a(t(s),{field:"purpose",header:"Purpose"},{body:l(()=>[a(t(b))]),_:1})]),_:1},8,["value"])])):(h(),k(t(A),{key:1,ref_key:"dataTable",ref:V,filters:y.value,"onUpdate:filters":n[4]||(n[4]=e=>y.value=e),selection:_.value,"onUpdate:selection":n[5]||(n[5]=e=>_.value=e),value:g.value,paginator:"",rows:10,dataKey:"id",filterDisplay:"menu",globalFilterFields:["id","attributes.transaction_id","attributes.amount"],sortField:S.value,sortOrder:w.value},{header:l(()=>[m("div",z,[a(t(E),{type:"button",icon:"pi pi-filter-slash",label:"Clear",outlined:"",onClick:n[0]||(n[0]=e=>I())}),a(t(L),null,{default:l(()=>[a(t(O),null,{default:l(()=>n[6]||(n[6]=[m("i",{class:"pi pi-search"},null,-1)])),_:1}),a(t(v),{modelValue:y.value.global.value,"onUpdate:modelValue":n[1]||(n[1]=e=>y.value.global.value=e),placeholder:"Keyword Search"},null,8,["modelValue"])]),_:1})])]),empty:l(()=>n[7]||(n[7]=[c(" No transaction found. ")])),default:l(()=>[a(t(s),{selectionMode:"multiple",headerStyle:"width: 3rem"}),a(t(s),{field:"attributes.transaction_id",header:"Transaction Id",sortable:"",style:{"min-width":"14rem"}},{body:l(({data:e})=>[c(u(e.attributes.transaction_id),1)]),filter:l(({filterModel:e})=>[a(t(v),{modelValue:e.value,"onUpdate:modelValue":r=>e.value=r,type:"text",placeholder:"Search by name"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),a(t(s),{field:"attributes.amount",header:"Amount",sortable:"",filterField:"attributes.amount",dataType:"numeric",style:{"min-width":"10rem"}},{body:l(({data:e})=>[c(u(U(e.attributes.amount)),1)]),filter:l(({filterModel:e})=>[a(t(F),{modelValue:e.value,"onUpdate:modelValue":r=>e.value=r,mode:"currency",currency:"USD",locale:"en-US"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),a(t(s),{field:"attributes.net_bal",header:"Net Bal",sortable:"",filterField:"attributes.net_bal",dataType:"numeric",style:{"min-width":"10rem"}},{body:l(({data:e})=>[c(u(U(e.attributes.net_bal)),1)]),filter:l(({filterModel:e})=>[a(t(F),{modelValue:e.value,"onUpdate:modelValue":r=>e.value=r,mode:"currency",currency:"USD",locale:"en-US"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),a(t(s),{field:"attributes.remarks",header:"Remark",sortable:"",filterField:"attributes.remarks",style:{"min-width":"10rem"}},{body:l(({data:e})=>[c(u(e.attributes.remarks),1)]),filter:l(({filterModel:e})=>[a(t(v),{modelValue:e.value,"onUpdate:modelValue":r=>e.value=r,type:"text",placeholder:"Search by remarks"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),a(t(s),{field:"attributes.purpose",header:"Purpose",sortable:"",filterField:"attributes.purpose",style:{"min-width":"10rem"}},{body:l(({data:e})=>[c(u(e.attributes.purpose),1)]),filter:l(({filterModel:e})=>[a(t(v),{modelValue:e.value,"onUpdate:modelValue":r=>e.value=r,type:"text",placeholder:"Search by purpose"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),a(t(s),{header:"Type",sortable:"",sortField:"attributes.transaction_type",filterField:"attributes.transaction_type",showFilterMatchModes:!1,filterMenuStyle:{width:"8rem"},style:{"min-width":"8rem"}},{body:l(({data:e})=>[m("div",J,[m("span",null,u(e.attributes.transaction_type),1)])]),filter:l(({filterModel:e})=>[a(t(D),{modelValue:e.value,"onUpdate:modelValue":r=>e.value=r,options:M.value,optionLabel:"name",optionValue:"name",placeholder:"Any",onChange:n[2]||(n[2]=r=>console.log("Selected Transaction Types:",r.value))},{option:l(r=>[m("div",q,[m("span",null,u(r.option.name),1)])]),_:2},1032,["modelValue","onUpdate:modelValue","options"])]),_:1}),a(t(s),{header:"Status",field:"data.attributes.status",filterField:"attributes.status",showFilterMatchModes:!1,sortable:"",filterMenuStyle:{width:"14rem"},style:{"min-width":"12rem"}},{body:l(({data:e})=>[a(t(H),{value:e.attributes.status,severity:P(e.attributes.status)},{default:l(()=>[c(u(B(e.attributes.status)),1)]),_:2},1032,["value","severity"])]),filter:l(({filterModel:e})=>[a(t(D),{modelValue:e.value,"onUpdate:modelValue":r=>e.value=r,options:x.value,optionLabel:"name",optionValue:"value",placeholder:"Any",onChange:n[3]||(n[3]=r=>console.log("Selected Transaction Types:",r.value))},{option:l(r=>[m("div",G,[m("span",null,u(r.option.name),1)])]),_:2},1032,["modelValue","onUpdate:modelValue","options"])]),_:1}),a(t(s),{field:"attributes.created_at",header:"Created At",sortable:"",filterField:"attributes.created_at",dataType:"date",style:{"min-width":"10rem"}},{body:l(({data:e})=>[c(u($(e.attributes.created_at)),1)]),filter:l(({filterModel:e})=>[a(t(W),{modelValue:e.value,"onUpdate:modelValue":r=>e.value=r,dateFormat:"mm/dd/yy",placeholder:"mm/dd/yyyy"},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1},8,["filters","selection","value","sortField","sortOrder"]))]),_:1}))}};export{ae as default};
